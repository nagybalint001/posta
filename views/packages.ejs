<%- partial('tpl/nav') %>

    <div class="container px-0">
        <!-- Packages panel -->
        <div>
            <a href="/package">
                <button type="submit" class="btn btn-primary my-2 my-sm-0">
                    <strong><i class="fa fa-plus"></i> New Package</strong>
                </button>
            </a>
            <div class="d-inline float-sm-right">
                <form class="form-inline my-0 d-inline" method="GET">
                    <input name="search" class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search" value="<%= (typeof req.param('search') !== 'undefined') ? req.param('search') : ''  %>">
                    <button class="btn btn-primary my-2 my-sm-0" type="submit"><i class="fa fa-search"></i></button>
                </form>
                <button id="detailed" type="button" class="btn btn-primary collapsed" data-toggle="collapse" data-target="#detailed-search">
                    Detailed
                </button>
            </div>
        </div>
        <!-- Packages detailed serach -->
        <div id="detailed-search" class="w-100 <%= req.param('pid', '') == '' ? 'collapse' : '' %>">
            <hr>
            <form class="form-inline" method="GET">
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">Pid</div>
                    <input type="text" class="form-control" placeholder="Pid" name="pid" value="<%= req.param('pid', '') %>">
                </div>
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">Creator</div>
                    <input type="text" class="form-control" placeholder="Creator" name="creator" value="<%= req.param('creator', '') %>">
                </div>
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">Direction</div>
                    <input type="text" class="form-control" placeholder="Direction" name="dir" value="<%= req.param('dir', '') %>">
                </div>
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">Administrator</div>
                    <input type="text" class="form-control" placeholder="Administrator" name="administrator" value="<%= req.param('administrator', '') %>">
                </div>
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">Division</div>
                    <input type="text" class="form-control" placeholder="Division" name="division" value="<%= req.param('division', '') %>">
                </div>
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">Type</div>
                    <input type="text" class="form-control" placeholder="Type" name="type" value="<%= req.param('type', '') %>">
                </div>
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">Number</div>
                    <input type="text" class="form-control" placeholder="Parcel number" name="parcelNumber" value="<%= req.param('parcelNumber', '') %>">
                </div>
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">Partner</div>
                    <input type="text" class="form-control" placeholder="Partner" name="partner" value="<%= req.param('partner', '') %>">
                </div>
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">City</div>
                    <input type="text" class="form-control" placeholder="City" name="city" value="<%= req.param('city', '') %>">
                </div>
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">Zip</div>
                    <input type="text" class="form-control" placeholder="Zip code" name="zip" value="<%= req.param('zip', '') %>">
                </div>
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">Subject</div>
                    <input type="text" class="form-control" placeholder="Subject" name="subject" value="<%= req.param('subject', '') %>">
                </div>
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">Comment</div>
                    <input type="text" class="form-control" placeholder="Comment" name="comment" value="<%= req.param('comment', '') %>">
                </div>      
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">From</div>
                    <input type="date" class="form-control" placeholder="Date" name="from" value="<%= req.param('from', '') %>">
                </div>
                <div class="input-group my-2 mr-sm-2 mb-sm-0">
                    <div class="input-group-addon">To</div>
                    <input type="date" class="form-control" placeholder="Date" name="to" value="<%= req.param('to', '') %>">
                </div>
                <br>
                <button type="submit" class="w-100 btn btn-primary my-0 mt-sm-2">Search</button>
            </form>
        </div>
        <hr>
        <!-- Packages list -->
        <!-- kerdeses h ez hogy legyen... lehet XHR angular betoltes is  akk kereses is -->
        <div id="package-list">
            <% for(var i = 0; i < data.length; i++){ %>
                <%- partial('tpl/package-item', {package:data[i]}) %>
            <% } %>
        </div>
        <nav>
            <ul class="pagination justify-content-center">
                <li class="page-item <%= (page <= 1) ? 'disabled' : ''%>">
                    <a class="page-link" href="<%= paginatebasequery + (page-1) %>">
                        <i class="fa fa-chevron-left"> Prev</i>
                    </a>
                </li>
                <li class="page-item disabled" >
                    <a class="page-link" href="#"><%= page %></a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="<%= paginatebasequery + (page+1) %>">
                        Next <i class="fa fa-chevron-right"></i>
                    </a>
                </li>
            </ul>
        </nav>

    </div>